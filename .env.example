# ==================================================
# ToolDock Environment Configuration
# ==================================================
# Copy this file to .env and configure your settings
#
# Usage:
#   cp .env.example .env
#   nano .env  # Change BEARER_TOKEN!
#   docker compose up -d
# ==================================================

# ==================================================
# AUTHENTICATION (REQUIRED)
# ==================================================
# Compose project name (controls Docker network names)
COMPOSE_PROJECT_NAME=tooldock
# Token for API access - CHANGE THIS to a secure random string!
# Used for Bearer token authentication on all API endpoints
BEARER_TOKEN=change_me_to_a_secure_token

# ==================================================
# PORT CONFIGURATION (Single Exposed Port)
# ==================================================
# ToolDock exposes only one host port via the Admin UI gateway.
# Transports are routed by path:
#   /api/*      -> Backend API
#   /openapi/*  -> Tool API (OpenAPI transport)
#   /mcp/*      -> MCP transport
ADMIN_PORT=13000

# ==================================================
# MCP PROTOCOL (Strict Mode Defaults)
# ==================================================
# Default MCP protocol version advertised to clients
MCP_PROTOCOL_VERSION=2024-11-05

# Comma-separated list of supported MCP protocol versions
MCP_PROTOCOL_VERSIONS=2024-11-05,2025-03-26

# ==================================================
# NETWORK CONFIGURATION
# ==================================================
# Host to bind servers to (0.0.0.0 = all interfaces)
HOST=0.0.0.0

# ==================================================
# CORS CONFIGURATION
# ==================================================
# Comma-separated list of allowed origins for CORS
# Use "*" for development only - NOT recommended for production!
# Example: https://myapp.example.com,https://admin.example.com
CORS_ORIGINS=*

# ==================================================
# DATA DIRECTORY
# ==================================================
# Base directory for all data (tools, config, external)
# Default: ./tooldock_data (relative to docker-compose.yml)
# In Docker container this maps to /data
# DATA_DIR=/data
#
# Host path for UI display (optional, recommended to be absolute)
HOST_DATA_DIR=./tooldock_data

# ==================================================
# DATABASE
# ==================================================
# SQLite default (inside container). For Postgres use:
# DATABASE_URL=postgresql+psycopg://user:pass@host:5432/tooldock
DATABASE_URL=sqlite:////data/db/tooldock.db

# ==================================================
# LOGGING
# ==================================================
# Log level: DEBUG, INFO, WARNING, ERROR
LOG_LEVEL=INFO

# ==================================================
# TOOL EXECUTION
# ==================================================
# Maximum time (in seconds) a tool can run before timeout
# Prevents hung tools from exhausting resources
TOOL_TIMEOUT_SECONDS=30

# ==================================================
# FASTMCP DEMO SERVER (first start only)
# ==================================================
# Install and auto-start a demo FastMCP server on first run
# Disabled by default to keep fresh clones clean.
FASTMCP_DEMO_ENABLED=false
# Namespace for the demo server
FASTMCP_DEMO_NAMESPACE=weather
# Demo repo to install on first run (FastMCP)
FASTMCP_DEMO_REPO=https://github.com/modelcontextprotocol/servers.git
# Demo repo entrypoint (relative to repo root)
FASTMCP_DEMO_ENTRYPOINT=src/time/src/mcp_server_time/__init__.py
# Registry search terms to find a demo server (fallback, comma-separated)
FASTMCP_DEMO_SEARCH=weather,filesystem,github

# ==================================================
# FASTMCP SYSTEM INSTALLER SERVER
# ==================================================
FASTMCP_INSTALLER_ENABLED=true
FASTMCP_INSTALLER_NAMESPACE=tooldock-installer

# ==================================================
# EXTERNAL MCP SERVER TOKENS (optional)
# ==================================================
# Add tokens for MCP servers you install via the MCP Servers page.

# GitHub MCP Server
# GITHUB_TOKEN=ghp_xxxxxxxxxxxxxxxxxxxx

# MSSQL MCP Server
# MSSQL_CONNECTION_STRING=Server=localhost;Database=mydb;User Id=sa;Password=xxx;

# Additional API keys as needed
# OPENAI_API_KEY=sk-xxxxxxxxxxxxxxxx
# ANTHROPIC_API_KEY=sk-ant-xxxxxxxxxxxxxxxx
